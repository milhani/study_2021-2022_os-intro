---
## Front matter
title: "Лабораторная работа №8"
author: "Ханина Людмила Константиновна"

## Generic otions
lang: ru-RU

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.

# Задание

* Создайте каталог с именем ~/work/os/lab06.
* Перейдите во вновь созданный каталог.
* Вызовите vi и создайте файл hello.sh
* Нажмите клавишу i и вводите следующий текст.
* Нажмите клавишу Esc для перехода в командный режим после завершения ввода текста.
* Нажмите : для перехода в режим последней строки и внизу вашего экрана появится приглашение в виде двоеточия.
* Нажмите w (записать) и q (выйти), а затем нажмите клавишу Enter для сохранения вашего текста и завершения работы.
* Сделайте файл исполняемым. 
* Вызовите vi на редактирование файла hello.sh. 
* Установите курсор в конец слова HELL второй строки.
* Перейдите в режим вставки и замените на HELLO. Нажмите Esc для возврата в командный режим.
* Установите курсор на четвертую строку и сотрите слово LOCAL.
* Перейдите в режим вставки и наберите следующий текст: local, нажмите Esc для возврата в командный режим.
* Установите курсор на последней строке файла. Вставьте после неё строку, содержащую следующий текст: echo $HELLO.
* Нажмите Esc для перехода в командный режим.
* Удалите последнюю строку.
* Введите команду отмены изменений u для отмены последней команды.
* Введите символ : для перехода в режим последней строки. Запишите произведённые изменения и выйдите из vi.

# Теоретическое введение

| Команда | Значение команды                                                                                                        |
|--------------|----------------------------------------------------------------------------------------------------------------------------|
| `:wq`          | Сохранить изменения файла и выйти из режима редактирования     |
| `vi filename`       | Вызов vi на редактирование файла    |


# Выполнение лабораторной работы

1. Создаем каталог с именем ~/work/os/lab06. Переходим туда и вызывам vi для файла hello.sh. Файл до этого не существовал, поэтому он создастся. 

![Создание файла](image/1.1-1.3.png){ #fig:001 width=70% }

2. Нажимаем i, чтобы перейти в режим редактирования файла. Записываем в него текст. Далее Нажимаем Esc для перехода в командный режим и сочетание клавиш :qw, чтобы сохранить текст и выйти из режима редактирования файла. 

![Текст](image/1.4.png){ #fig:001 width=70% }

3. Сделаем файл исполняемым с помощью команды 

```
chmod +x hello.sh
```

![Сделаем файл исполняемым](image/1.8.png){ #fig:001 width=70% }

4. Уже из домашнего каталога начнем редактировать файл с помощью vi. 

```
vi ~/work/os/lab06/hello.sh
```

5. Устанавливаем курсор на вторую строку с помощью сочетания клавиш 2G. Нажимаем w, чтобы установить курсор в конец слова HELL. Переходим в режим вставки и заменяем слово на HELLO. Далее возвращаемся в командный режим, используя Esc. 

6. Устанавливаем курсор на четвертую строку с помощью сочетания клавиш 4G. Нажимаем x столько раз, чтобы стереть слово LOCAL. Переходим в режим вставки и набираем текст local. Возвращаемся в командный режим, используя Esc. 

![Было](image/2.4.png){ #fig:001 width=70% }

![Стало](image/2.5.png){ #fig:001 width=70% }

7. Далее устанавливаем курсор на последней строке с помощью клавиши G. Вставляем послее нее строку
```
echo $HELLO
```

Переходим в командный режим. 

8. Удаляем последнюю строку сочетанием клавиш :9,9d. А затем возвращаем ее клавишей u. 

![Удаляем строку](image/1.8.png){ #fig:001 width=70% }

9. Пишем сочетание клавиш :wq для сохранения изменений и выхода из режима редактирования.  

# Контрольные вопросы

1. Режимы работы в mc:
 • Информация: на панель выводятся сведения о файле и текущей файловой системе,
расположенных на активной панели;
 • Дерево: на одной из панелей выводится структура дерева каталогов.   

2. С помощью комбинаций клавиш в mc можно просмотреть содержимое файла (F3), изменить содержимое файла (F4), скопировать файлы (F5), перенести файлы (F6), создать подкаталог (F7), удалить файл/каталог (F8). 

3. Струтура левой (и правой) панели:
 • Формат списка позволяет управлять отображением файлов и каталогов. 
 • Порядок сортировки позволяет задать критерий сортировки при выводе списка файлов. 

4. Структура Файл:
 • Просмотр (F3) позволяет просматривать файл. 
 • Правка (F4) позволяет изменять файл. 
 • Копирование (F5) позволяет копировать указанный файл/каталог в определенное место
 • Права доступа позволяют указать или изменить права доступа к файлам/каталогам. 
 • Создание каталога (F7) позволяет создать каталог. 
 • Удалить (F8) позволяет удалить файл/каталог. 

5. Структура Команда:
 • Дерево каталогов — отображает структуру каталогов. 
 • Поиск файлов — выполняет поиск файлов по заданным параметрам. 
 • Сравнить каталоги — сравнивает содержимое каталогов. 
 • История командной строки – выводит историю использованных команд. 

6. Структура Настройки:
 • Конфигурация — позволяет скорректировать настройки работы с панеляи. 
 • Внешний вид и Настройки панелей — изменяет расположение панелей и их цветовыделение. 

7. Встроенные команды mс:
 • F1 — Помощь
 • F2 — Сохранить изменения в файл при редактировании
 • F3 — Просмотр файла
 • F3 — (Во время редактирования) Начать выделение текста. Повторное нажатие F3 закончит выделение
 • F4 — Редактирование файла
 • F5 — Скопировать выделенное
 • F6 — Переместить выделенное
 • F8 — Удалить выделенное  

8. Команды встроенного редактора mc:
 • F4 — поиск с заменой
 • F6 — поиск с помощью регулярного выражения
 • Shift+F3 — Начать выделение блока текста. Повторное нажатие F3 закончит выделение
 • Shift+F5 — Вставка текста из внутреннего буфера обмена mc (прочитать внешний файл)
 • Ctrl+f — Занести выделенный фрагмент во внутренний буфер обмена mc (записать во внешний файл)
 • Ctrl+k — Удалить часть строки до конца строки
 • Ctrl+s — Включить или выключить подсветку синтаксиса
 • Ctrl+u — Отменить действия
 • Ctrl+y — Удалить строку


9. Файлы меню содержат списки команд для выполнения часто повторяемых пользователем операций. Эти меню создаются и поддерживаются самими пользователями. Могут быть созданы три файла меню: в текущем каталоге, в домашнем каталоге пользователя и общесистемный.

10. Операции над файлами:
 • Shift+F4 — Создает новый файл
 • shift-f6 — переименовать файл
 • alt-. — показать скрытые файлы
 • ctrl-x, c — права на файл
 • ctrl-x, o — владелец файла
 • Shift-F3 — просмотр файла
 • Ctrl-X+L — создать ссылку на файл
 • Ctrl-X+S — создать символическую ссылку на файл
 • F12 — Save as
 • ctrl-x, ctrl-d — сравнить файлы

# Выводы

Я научилась работать в vi. Изучила методы перехода между режимами, передвижения курсора и изменения содержимого файла через команды. 
